<!DOCTYPE html>
<html>
  <head>
    <title>webrtc-pc interop</title>
  </head>
<style>
table.results {
  border: 2px solid darkgrey;
  background-color: white;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.results td, table.results th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.results tbody td {
  font-size: 13px;
}
table.results tr:nth-child(even) {
  background: lightgrey;
}
table.results thead {
  background: grey;
}
table.results thead th {
  font-size: 19px;
  font-weight: bold;
  color: #FFFFFF;
  background: darkgrey;
  text-align: center;
  border-left: 2px solid grey;
}
table.results tbody th {
  text-align: right;
}
table.results thead th:first-child {
  border-left: none;
}

table.results tbody tr.good {
  background: #cfc;
}
table.results tbody tr.ok {
  background: #ffc;
}
table.results tbody tr.ignore {
  opacity: 0.5;
}

table.results tbody td.comment {
 text-align: left;
}

table.results tbody td.todo {
 border: 2px solid #f00;
}

</style>
  <body>
    <main id="content">
      <section>
      <h2>Implementation gaps</h2>
      <dl>
        <dt><code>RTCIceCandidate</code> interface attributes</dt>
        <dd>foundation, component, priority, address, protocol, port, type, tcpType, relatedAddress, relatedPort</dd>
        <dt><code>RTCDtlsTransport</code> interface</dt>
        <dd>Not implemented in FF, Safari; implemented partially in old Edge (but does it pass the tests?)</dd>
        <dt><code>RTCIceTransport</code> interface</dt>
        <dd>Missing in FF; Available in SecureContext only in Chromium? missing component attribute in Chromium; missing most attributes/methods in Safari</dd>
        <dd>In general, some tests are https-only, but not clear if this is always justified</dd>
        <dt>RTCDataChannel.onclosing</dt>
        <dd>No implementation</dd>
        <dt>canTrickleIceCandidates</dt>
        <dd>Not available in Chromium, Safari</dd>
        <dt>onicecandidateerror</dt>
        <dd>Not available in Firefox, Safari</dd>
        <dt>readonly attributes in RTCSessionDescription (type, sdp)</dt>
        <dd>writable in FF, Chromium</dd>
        <dt><code>RTCPeerConnection.setLocalDescription()</code></dt>
        <dd>Supports for zero-argument in FF, Safari?</dd>
        <dt><code>RTCPeerConnection.setRemoteDescription()</code></dt>
        <dd>Supports for zero-argument in all browsers</dd>
        <dt><code>RTCPeerConnection.addIceCandidate()</code></dt>
        <dd>Supports for zero-argument in Chromium, Safari</dd>
        <dt>validation of <code>rid</code> values in addTransceiver</dt>
        <dt><code>createOffer</code></dt>
        <dd>Chromium Safari fails "When media stream is added when createOffer() is running in parallel, the result offer should contain the new media stream"</dd>
        <dt><code>blob</code> argument for <code>RTCDataChannel.send()</code></dt>
        <dd>Missing in Chromium</dd>
        <dt>sctp transport</dt>
        <dd>Missing in FF, Safari</dd>
        <dt><code>transceiver.stop()</code></dt>
        <dd>Missing from chromium</dd>
        <dt><code>restartIce</code> survives remote offer containing partial restart</dt>
        <dd>Not implemented in FF, Chromium</dd>
        <dt><code>RTCRtpSender.setStreams()</code></dt>
        <dd>Not implemented in FF, Safari</dd>
        <dt><code>setCodecPreferences</code></dt>
        <dd>Not implemented in FF, Safari? (per <a href="https://wpt.fyi/results/webrtc/RTCRtpParameters-codecs.html?label=experimental&label=master&aligned">RTCRtpParamters-codecs.html</a>, <a href="https://wpt.fyi/results/webrtc/RTCRtpTransceiver-setCodecPreferences.html">RTCRtpTransceiver-setCodecPreferences.html</a></dd>
        <dt>RTCError, RTCErrorEvent</dt>
        <dd>Not implemented in Firefox, Safari (OperationError fallback test?); bug in RTCErrorEvent consutrctor (cf <a href="https://wpt.fyi/results/webrtc/idlharness.https.window.html">idlharness test</a></dd>
        <dt>setLocalDescription() with offer not created by own createOffer() should reject with InvalidModificationError</dt>
        <dd>Fails in Chromium, Safari</dd>
        <dt>RTCPeerConnectionIceEvent url attribute</dt>
        <dd>Missing in FF, Chromium</dd>
        <dt>RTCPeerConnectionIceErrorEvent</dt>
        <dd>Missing in FF, Safari; address, port missing in Chromium</dd>
        <dt>parameter-less setParameters (!)</dt>
        <dd>Bug in FF, Chromium</dd>
      </dl>
      </section>
      <section>
        <h2>Test suite issues</h2>
        <h3>Bugs</h3>
        <ul>
          <li>test for <code>bufferedAmount</code> depends on <code>blob</code> sending (but not implemented in Chromium yet)</li>
          <li>is <a href="https://github.com/web-platform-tests/wpt/blob/master/webrtc/RTCCertificate-postMessage.html#L61">x-origin RTCCertificate</a> expected to fail?</li>
          <li>Remove <code>priority</code> from data channel tests (<a href="https://wpt.fyi/results/webrtc/RTCPeerConnection-createDataChannel.html?label=experimental&label=master&aligned">RTCPeerConnection-createDataChannel.html</a>, <a href="https://wpt.fyi/results/webrtc/RTCPeerConnection-ondatachannel.html?label=experimental&label=master&aligned">RTCPeerConnection-ondatachannel</a>)</li>
          <li>pendingRemoteDescription not null after <code>pranswer</code> in <a href="https://github.com/web-platform-tests/wpt/blob/master/webrtc/RTCPeerConnection-setLocalDescription-pranswer.html#L106">RTCPeerConnection-setLocalDescription-pranswer.html</a> per 3.2.4.3 of set session description?</li>
          <li>Remove oauth credential from <a href="https://wpt.fyi/results/webrtc/RTCConfiguration-iceServers.html?label=experimental&label=master&aligned">RTCConfiguration-iceServers.html</a></li>
          <li><a href="webrtc/RTCPeerConnection-getStats.https.html">webrtc/RTCPeerConnection-getStats.https.html</a> should not depend on getUserMedia to create tracks</li>
        </ul>
        <h3>Gaps</h3>
        <ul>
          <li>dedicated test for RTCPeerConnection.setConfiguration()</li>
        </ul>
      </section>

      <section>
        <h2>Annotated WPT results</h2>
      <table class="results">
          <thead>
            <tr>
              <th>Tests</th>
                <th>Chrome</th>
                <th>Edge</th>
                <th>FireFox</th>
              <th>Safari</th>
              <th>old Edge</th>
		<th>Notes</th>
            </tr>
          </thead>
          <tbody>
          </tbody>
      </table>
      </section>
    </main>
    <script src="load.js"></script>
  </body>
</html>
